<nc-app-panel [panelHeader]="casePanelHeader" [preventExpand]="true" [first]="first" [last]="last" [caseColor] = case_.color>
    <ng-template #casePanelHeader>
        <div fxLayoutAlign="start center" fxLayout="row" fxFlex="95" (click)="preventSelectionClick($event)">
            <mat-icon class="case-panel-icon panel-primary-icon" *ngIf="showCasePanelIcon">
                {{case_.icon ? case_.icon : 'label'}}</mat-icon>
            <div *ngFor="let field of featuredFieldsValues; let i = index" fxFlex
                 class="text-column-div" [ngStyle]="{'min-width': getMinWidth()}"
                 [fxHide.lt-xl]="i >= 4 && responsiveBody"
                 [fxHide.lt-lg]="i >= 3 && responsiveBody"
                 [fxHide.lt-md]="i >= 2 && responsiveBody"
                 [fxHide.lt-sm]="i >= 1 && responsiveBody"
                 [ngClass]="{'panel-header-padding': !textEllipsis && field.type !== 'button'}">
                <span class="text-column-margin" fxLayoutAlign="start center">
                    <mat-icon class="case-panel-icon panel-primary-icon"
                              *ngIf="field.icon && field.value && field.type !== 'button'">{{field.icon}}</mat-icon>
                    <ng-container [ngSwitch]="field.type">
                        <span *ngSwitchDefault
                              [ngClass]="{'text-column-ellipsis': textEllipsis, 'text-column-word-wrap': !textEllipsis}"
                              [matTooltip]="field.value"
                              [matTooltipDisabled]="!textEllipsis"
                              [matTooltipClass]="'pre-line-dialog'">{{field.value}}</span>
                        <button *ngSwitchCase="'button'" mat-flat-button color="primary">{{field.value}}</button>
                        <nc-immediate-filter-text *ngSwitchCase="'filter'"
                                                  [filterMetadata]="field.filterMetadata"
                                                  [ellipsis]="textEllipsis"
                                                  class="width-100">
                        </nc-immediate-filter-text>
                    </ng-container>
                </span>
            </div>
        </div>
        <div fxLayout="row" fxLayoutAlign="end center" fxFlex="5">
            <div *ngIf="showDeleteMenu && canDelete()">
                <button mat-icon-button (click)="show($event)" [matMenuTriggerFor]="menu">
                    <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                    <button mat-menu-item (click)="deleteCase()">
                        <mat-icon>delete</mat-icon>
                        <span>{{ 'panel.case.delete' | translate}}</span>
                    </button>
                </mat-menu>
            </div>
        </div>
    </ng-template>
</nc-app-panel>
