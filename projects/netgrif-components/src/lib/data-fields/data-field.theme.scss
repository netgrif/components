@use '@angular/material' as mat;
@import "quill/dist/quill.snow.css";
@import "quill/dist/quill.bubble.css";
@import "quill/dist/quill.core.css";
@import '~node_modules/@covalent/markdown/markdown-theme';

@mixin data-field-component($theme, $nae-variables) {
    $primary: map-get($theme, primary);
    $secondary: map-get($theme, accent);
    $warn: map-get($theme, warn);

    $color-text-disabled: map-get($nae-variables, datafield-text-disabled);
    $color-outline-disabled: map-get($nae-variables, datafield-outline-disabled);

    $color-text-enabled: map-get($nae-variables, datafield-text-enabled);
    $color-outline-enabled: map-get($nae-variables, datafield-outline-enabled);

    // DATAFIELD PALETTE CUSTOMIZATION
    .enum-icon-item {
        color: $color-text-enabled;
    }
    .enum-icon-item-disabled {
        color: map-get($nae-variables,datafield-icon-disabled);
    }
    .stepper-arrow-text {
        color: $color-text-enabled;
    }
    .stepper-disabled .stepper-arrow-text {
        color: map-get($nae-variables,datafield-icon-disabled);
    }
    .stepper-tooltip-text {
        color: map-get($nae-variables,datafield-stepper-color);
    }
    .vertical-state {
        color: map-get($nae-variables,datafield-stepper-color);
    }
    .horizontal-state {
        color: map-get($nae-variables,datafield-stepper-color);
    }
    .stepper-min-height {
        background-color: map-get($nae-variables,datafield-stepper-background);
    }

    .editor-preview > h1 {
        border-bottom: 1px solid map-get($nae-variables, border);
    }

    .editor-preview > h2 {
        border-bottom: 1px solid map-get($nae-variables, border);
    }

    .input-placeholder {
        color: $color-text-enabled;
    }

    .form-input {
        background: map-get($nae-variables, datafield-background);
        color: $color-text-enabled;
        border: 1px solid $color-text-enabled;
    }

    .form-input-disabled, .form-input-disabled:focus-within {
        border-color: $color-outline-disabled !important;
    }

    .form-input-disabled {
        border-color: $color-outline-disabled !important;
    }

    .no-cursor {
        color: $color-text-disabled;
    }

    .file-field-label {
        color: $color-text-enabled;
    }

    .selected-language-value {
        color: $color-text-enabled;
    }

    .selected-language-value:disabled {
        color: $color-text-disabled;
    }

    .form-input-interfield {
        background: map-get($nae-variables, datafield-background);
        color: $color-text-enabled;
        border: 1px solid
    }

    .form-input-interfield:hover {
        border: solid 2px $color-outline-enabled;
    }

    .language-svg-icon {
        border: solid 1px $color-outline-enabled;
    }

    .filled-language-row {
        background-color: map-get($nae-variables, datafield-background);
    }

    .filled-language-row:not(:last-child) {
        border-bottom: 1px solid $color-outline-enabled;
    }

    .filled-languages-wrapper {
        border-radius: 0 0 6px 6px;
        border-left: 1px solid $color-outline-enabled;
        border-right: 1px solid $color-outline-enabled;
        border-bottom: 1px solid $color-outline-enabled;
    }

    .i18n-label {
        color: $color-text-enabled;
    }

    .required-label-color {
        color: map-get($nae-variables, datafield-required-label);
    }

    .disabled-color {
        color: map-get($nae-variables, datafield-icon-disabled);
    }

    .html-border {
        border: 1px solid $color-outline-disabled;
    }

    .rich-border {
        border: 1px solid $color-outline-disabled;
    }

    .signature-canvas {
        border: 1px solid $color-outline-enabled;
        -webkit-text-stroke-color: map-get($nae-variables, datafield-canvas-stroke);
    }

    .canvas-background-disabled {
        background-color: map-get($nae-variables, datafield-canvas-disabled);
    }

    .user-field-label {
        color: $color-text-enabled;
    }

    // END BLOCK

    .mat-option {
        height: auto !important;
        min-height: 48px;
        white-space: normal !important;
        line-height: normal !important;
        padding: 8px 16px !important;
    }

    .horizontal-state-primary {
        background-color: mat.get-color-from-palette($primary);
    }

    .horizontal-state-secondary {
        background-color: mat.get-color-from-palette($secondary);
    }

    .stepper-arrow-selected {
        color: mat.get-color-from-palette($primary) !important;
        font-weight: 600 !important;
    }

    .enum-icon-item-hover:hover {
        color: mat.get-color-from-palette($primary, 200) !important;
    }

    .enum-icon-item-active {
        color: mat.get-color-from-palette($primary) !important;
    }

    .file-list-item:hover {
        background-color: rgba(mat.get-color-from-palette($secondary, A200), 0.3)
    }

    .primary-background-color {
        background: mat.get-color-from-palette($primary);
    }

    .filled-language-row:hover {
        background-color: rgba(mat.get-color-from-palette($primary), 0.2);
    }

    .form-input:focus-within:not(.invalid-form-input) {
        border: solid 2px mat.get-color-from-palette($primary) !important;
        padding: 1px !important;
    }

    .invalid-form-input {
        border: solid 2px mat.get-color-from-palette($primary) !important;
        padding: 1px !important;
    }

    .invalid-form-label {
        color: mat.get-color-from-palette($primary) !important;
    }

    .netgrif-input {

        .mat-standard-chip {
            height: unset;
            min-height: 1px;
            word-break: break-word;
        }

        .mat-paginator-page-size-select .mat-form-field-infix {
            min-width: unset !important;
        }

        .mat-form-field-infix {
            padding: 5px 0 11px 0 !important;
            font-weight: 400 !important;
            font-size: 14px !important;
            line-height: 20px !important;
            min-width: 130px !important;
            width: unset;
        }

        .mat-form-field-appearance-outline .mat-form-field-prefix, .mat-form-field-appearance-outline .mat-form-field-suffix {
            top: 0.33em;
        }

        .mat-form-field-appearance-outline .mat-form-field-prefix {
            left: -0.33em;
        }

        .mat-form-field-label-wrapper {
            top: -1.2em !important;
            font-weight: 400 !important;
            font-size: 14px !important;
            line-height: 20px !important;
        }

        .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
            transform: translateY(-1.4em) scale(0.75);
            width: 133.3333333333%;
        }

        .mat-select-arrow-wrapper {
            transform: translateY(0) !important;
        }

        .mat-select-disabled .mat-select-trigger {
            user-select: all !important;
        }

        .mat-error {
            font-size: 10px !important;
            line-height: 18px !important;
            width: 100%;
        }

        .mat-hint {
            font-size: 10px !important;
            line-height: 18px !important;
            width: 100%;
            color: $color-text-enabled;
        }

        .mat-hint-disabled {
            color: $color-text-disabled !important;
        }

        .ql-toolbar.ql-snow {
            border-radius: 6px 6px 0 0;
            border: 1px solid $color-outline-enabled;
        }

        .ql-container.ql-snow {
            border-radius: 0 0 6px 6px;
            border: 1px solid $color-outline-enabled;
        }

        .mat-radio-label {
            min-height: 36px !important;
            white-space: unset;
        }

        @media only screen and (max-width: 959.99px) {
            .mat-radio-label {
                align-items: flex-start;
            }
        }

        .netgrif-label {
            font-weight: 500;
            color: $color-text-enabled !important;
        }

        .netgrif-label-disabled {
            color: $color-text-disabled !important;
            cursor: alias;
        }

        .mat-list-option {
            height: auto !important;
            min-height: 36px;
            padding: 0 !important;
            white-space: normal !important;
            line-height: normal !important;
            display: flex !important;
            justify-content: center;
            flex-direction: column;
        }

        .mat-list-option:focus {
            outline: none;
        }

        .mat-list-base .mat-list-item .mat-list-item-content, .mat-list-base .mat-list-option .mat-list-item-content {
            min-height: 36px;
            padding: 0 2px !important;
        }

        .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text {
            padding-top: 8px;
            padding-bottom: 8px;
            padding-left: 10px;
        }

        .mat-list-base {
            padding-top: 4px !important;
        }

        .mat-form-field-subscript-wrapper {
            //position: static;
            margin-top: 0.5em;
            top: calc(100% - 2em);
        }

        .mat-form-field-wrapper {
            padding-bottom: 1em !important;
        }

        .mat-form-field-appearance-outline .mat-form-field-wrapper {
            margin: 0.25px 0 0;
        }

        // DISABLED

        .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline {
            color: $color-outline-disabled;
            background-color: transparent;
            border-radius: 6px;
        }

        .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label {
            color: $color-text-disabled;
        }

        .mat-input-element:disabled, .mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix::after {
            color: $color-text-disabled;
        }

        .mat-form-field-prefix .mat-icon-button.mat-button-disabled.mat-button-disabled {
            color: $color-text-disabled;
        }

        .mat-radio-button.mat-radio-disabled .mat-radio-label-content {
            color: $color-text-disabled !important;
        }

        .mat-list-base .mat-list-item-disabled {
            color: $color-text-disabled !important;
            background-color: transparent;
        }

        .mat-select-disabled .mat-select-value {
            color: $color-text-disabled;
        }

        .mat-button.mat-primary.mat-button-disabled,
        .mat-button.mat-accent.mat-button-disabled,
        .mat-button.mat-warn.mat-button-disabled,
        .mat-button.mat-button-disabled.mat-button-disabled,
        .mat-icon-button.mat-primary.mat-button-disabled,
        .mat-icon-button.mat-accent.mat-button-disabled,
        .mat-icon-button.mat-warn.mat-button-disabled,
        .mat-icon-button.mat-button-disabled.mat-button-disabled,
        .mat-stroked-button.mat-primary.mat-button-disabled,
        .mat-stroked-button.mat-accent.mat-button-disabled,
        .mat-stroked-button.mat-warn.mat-button-disabled,
        .mat-stroked-button.mat-button-disabled.mat-button-disabled {
            color: $color-text-disabled;
        }

        // ENABLED

        .mat-form-field-appearance-outline .mat-form-field-outline {
            color: $color-outline-enabled;
            background-color: map-get($nae-variables, datafield-background);
            border-radius: 6px;
        }

        .ql-toolbar {
            background-color: map-get($nae-variables, datafield-background);
        }

        .ql-editor {
            border-bottom-right-radius: 6px;
            border-bottom-left-radius: 6px;
        }

        .ql-editor.ql-blank {
            background-color: map-get($nae-variables, datafield-background);
        }

        .mat-form-field-appearance-outline .mat-form-field-outline-start {
            border-radius: 6px 0 0 6px;
        }

        .mat-form-field-appearance-outline .mat-form-field-outline-end {
            border-radius: 0 6px 6px 0;
        }

        .mat-list-base .mat-list-option {
            color: $color-text-enabled !important;
        }

        .mat-radio-label-content {
            color: $color-text-enabled !important;
        }

        .mat-stroked-button:not(.mat-button-disabled) {
            border-color: $color-outline-enabled;
        }

        .mat-slide-toggle-content {
            color: $color-text-enabled !important;
        }

        .netgrif-chip-fix {
            .mat-chip-list-wrapper {
                margin: -10px !important;
            }

            &.mat-form-field .mat-form-field-prefix {
                top: 0.33em !important;
                padding-right: 4px !important;
            }
        }

        .mat-select-trigger {
            height: unset;
            min-height: 1.125em;
        }

        .mat-select-value-text {
            white-space: break-spaces;
        }

    }

    .netgrif-zero-field-wrapper {
        .mat-form-field-wrapper {
            padding-bottom: 0 !important;
        }
    }

    .netgrif-input-fix {


        input:-webkit-autofill,
        input:-webkit-autofill:focus {
            background: transparent !important;
        }
    }

    .netgrif-input-search-fix {
        .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button {
            width: unset !important;
            height: unset !important;
            top: 3px !important;
        }

        .mat-form-field-wrapper {
            padding-bottom: 0 !important;
        }
    }

    .netgrif-input-primary-search-fix {
        .mat-form-field-appearance-outline .mat-form-field-prefix, .mat-form-field-appearance-outline .mat-form-field-suffix {
            top: 0.25em !important;
        }

        .mat-form-field-appearance-outline .mat-form-field-prefix {
            left: 0 !important;
        }

        .mat-form-field-wrapper {
            padding-bottom: 0 !important;
        }
    }

    .netgrif-icon-fix {
        margin-bottom: 18px;
    }

    .netgrif-input-primary-fix {
        .mat-form-field-appearance-outline {
            .mat-form-field-outline {
                color: mat.get-contrast-color-from-palette($primary, 500);
            }

            .mat-form-field-outline-thick {
                color: mat.get-contrast-color-from-palette($primary, 500);
            }

            &.mat-focused {
                .mat-form-field-outline-thick {
                    color: mat.get-contrast-color-from-palette($primary, 500);
                }
            }
        }

        .mat-form-field-label {
            color: mat.get-contrast-color-from-palette($primary, 500);
        }

        .mat-form-field.mat-focused .mat-form-field-label {
            color: mat.get-contrast-color-from-palette($primary, 500);
        }

        .mat-datepicker-toggle {
            color: mat.get-contrast-color-from-palette($primary, 500) !important;
        }

        ::placeholder {
            color: mat.get-contrast-color-from-palette($primary, 500) !important;
        }
    }

    .date-field-fix {
        .mat-form-field-appearance-outline .mat-form-field-flex {
            padding: 0 0.75em 0 0.5em !important;
        }
    }

    .form-input-error {
        border-color: mat.get-color-from-palette($warn) !important;
    }

    .new-dashboard-tile {
        border-color: mat.get-color-from-palette($primary);
        border-style: dashed;
        border-radius: 16px;
        border-width: thin;
    }

    :host ::ng-deep .editor-toolbar {
        background-color: map-get($nae-variables, datafield-background) !important;
        border-top: 1px solid $color-outline-enabled !important;
        border-left: 1px solid $color-outline-enabled !important;
        border-right: 1px solid $color-outline-enabled !important;
    }
}

.mat-calendar-arrow {
    border: none !important;
    width: 10px !important;
    height: 5px !important;
}

ngx-mat-calendar-header .mat-calendar-arrow {
    border-left: 5px solid transparent !important;
    border-right: 5px solid transparent !important;
    border-top-width: 5px !important;
    border-top-style: solid !important;
    width: 0 !important;
    height: 0 !important;
}

ngx-mat-calendar {
    .mat-calendar-body-cell {
        position: relative !important;
    }
}

mat-calendar {
    .mat-calendar-arrow {
        width: 0;
        height: 0;
    }

    .mat-calendar-body-cell {
        position: absolute !important;
        height: 100%;
    }
}

ngx-mat-datetime-content {
    .mat-calendar-arrow {
        width: 0;
    }
}

nc-number-currency-field .mat-form-field .mat-form-field-prefix {
    top: 0 !important;
    padding-right: 4px !important;
}

nc-user-list-default-field .mat-form-field .mat-form-field-prefix {
    top: 0 !important;
    padding-right: 4px !important;
}
