<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Netgrif Components Core library Documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css" media="(prefers-color-scheme: dark)">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Netgrif Components Core library Documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content class">
                   <div class="content-data">











<ol class="breadcrumb">
  <li>Classes</li>
  <li >TaskHandlingService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>projects/netgrif-components-core/src/lib/task/services/task-handling-service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Holds the common functionality for all Services that work with a single Task object.</p>

            </p>




            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#isTaskPresent" >isTaskPresent</a>
                            </li>
                            <li>
                                    <span class="modifier">Protected</span>
                                <a href="#isTaskRelevant" >isTaskRelevant</a>
                            </li>
                        </ul>
                    </td>
                </tr>





                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#_task" >_task</a>
                                </li>
                                <li>
                                    <a href="#_safeTask" >_safeTask</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                                <span class="modifier">Protected</span>
                        <code>constructor(_taskContentService: <a href="../injectables/TaskContentService.html" target="_self">TaskContentService</a>, _selectedCaseService: <a href="../injectables/SelectedCaseService.html" target="_self">SelectedCaseService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="8" class="link-to-prism">projects/netgrif-components-core/src/lib/task/services/task-handling-service.ts:8</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div class="io-description"><p>It should be injected with the <code>@Optional()</code> annotation, since it might not be always provided.</p>
</div>
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                                    <td>Description</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>_taskContentService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/TaskContentService.html" target="_self" >TaskContentService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>the service that holds the currently selected task, that is handled by the implementation of this class</p>
</code>
                                                        </td>
                                                </tr>
                                                <tr>
                                                        <td>_selectedCaseService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/SelectedCaseService.html" target="_self" >SelectedCaseService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                        <td>
                                                                <code><p>an optional service, that holds the currently selected case.
It should be injected with the <code>@Optional()</code> annotation, since it might not be always provided.</p>
</code>
                                                        </td>
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>


            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isTaskPresent"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>isTaskPresent</b></span>
                        <a href="#isTaskPresent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isTaskPresent()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="42"
                            class="link-to-prism">projects/netgrif-components-core/src/lib/task/services/task-handling-service.ts:42</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p><code>true</code> if a {</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isTaskRelevant"></a>
                    <span class="name">
                        <span class="modifier">Protected</span>
                        <span ><b>isTaskRelevant</b></span>
                        <a href="#isTaskRelevant"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isTaskRelevant(requestedTaskId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="56"
                            class="link-to-prism">projects/netgrif-components-core/src/lib/task/services/task-handling-service.ts:56</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Checks whether the current state of the <a href="../injectables/TaskContentService.html">TaskContentService</a> and optionally if the <a href="../injectables/SelectedCaseService.html">SelectedCaseService</a>, is still
relevant to the task that was requested.</p>
<p>This method is useful if you use <a href="../injectables/UnlimitedTaskContentService.html">UnlimitedTaskContentService</a>, or a similar implementation. It is possible for the currently
&quot;selected&quot; task to change in-between a backend request was sent and the response was received. In that case the response is no longer
relevant and should be discarded, otherwise an illegal task state could be achieved on frontend.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>requestedTaskId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>the <code>stringId</code> of the requested task</p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        <p><code>true</code> if the requested task is still relevant to the state of the frontend. Returns <code>false</code> otherwise.</p>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>





            <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_task"></a>
                        <span class="name"><b>_task</b><a href="#_task"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>_task()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="22" class="link-to-prism">projects/netgrif-components-core/src/lib/task/services/task-handling-service.ts:22</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">

                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../interfaces/Task.html" target="_self" >Task | undefined</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="_safeTask"></a>
                        <span class="name"><b>_safeTask</b><a href="#_safeTask"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>_safeTask()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="31" class="link-to-prism">projects/netgrif-components-core/src/lib/task/services/task-handling-service.ts:31</a></div>
                                </td>
                            </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-description"><p>Throws an error if the <a href="../injectables/TaskContentService.html">TaskContentService</a> didn&#39;t have the Task object set yet.</p>
</div>

                                <div>
                                </div>
                                <div class="io-description">
                                    <b>Returns : </b>        <code><a href="../interfaces/Task.html" target="_self" >Task</a></code>

                                </div>
                        </td>
                    </tr>

            </tbody>
        </table>
</section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {TaskContentService} from &#x27;../../task-content/services/task-content.service&#x27;;
import {Task} from &#x27;../../resources/interface/task&#x27;;
import {SelectedCaseService} from &#x27;./selected-case.service&#x27;;

/**
 * Holds the common functionality for all Services that work with a single Task object.
 */
export abstract class TaskHandlingService {

    /**
     * @param _taskContentService the service that holds the currently selected task, that is handled by the implementation of this class
     * @param _selectedCaseService an optional service, that holds the currently selected case.
     * It should be injected with the &#x60;@Optional()&#x60; annotation, since it might not be always provided.
     */
    protected constructor(protected _taskContentService: TaskContentService,
                          protected _selectedCaseService: SelectedCaseService &#x3D; null) {
    }

    /**
     * @returns the Task object held by {@link TaskContentService} or &#x60;undefined&#x60; if the Service currently holds no Task.
     */
    protected get _task(): Task | undefined {
        return this._taskContentService.task;
    }

    /**
     * Throws an error if the {@link TaskContentService} didn&#x27;t have the Task object set yet.
     *
     * @returns the Task object held by {@link TaskContentService}.
     */
    protected get _safeTask(): Task {
        const task &#x3D; this._taskContentService.task;
        if (!task) {
            throw new Error(&#x27;Attempting to access Task object of an uninitialized TaskContentService&#x27;);
        }
        return task;
    }

    /**
     * @returns &#x60;true&#x60; if a {@link Task} instance is set, &#x60;false&#x60; otherwise
     */
    protected isTaskPresent(): boolean {
        return !!this._taskContentService.task;
    }

    /**
     * Checks whether the current state of the {@link TaskContentService} and optionally if the {@link SelectedCaseService}, is still
     * relevant to the task that was requested.
     *
     * This method is useful if you use {@link UnlimitedTaskContentService}, or a similar implementation. It is possible for the currently
     * &quot;selected&quot; task to change in-between a backend request was sent and the response was received. In that case the response is no longer
     * relevant and should be discarded, otherwise an illegal task state could be achieved on frontend.
     * @param requestedTaskId the &#x60;stringId&#x60; of the requested task
     * @returns &#x60;true&#x60; if the requested task is still relevant to the state of the frontend. Returns &#x60;false&#x60; otherwise.
     */
    protected isTaskRelevant(requestedTaskId: string): boolean {
        return this.isTaskPresent()
            &amp;&amp; this._task.stringId &#x3D;&#x3D;&#x3D; requestedTaskId
            &amp;&amp; (!this._selectedCaseService
                || (!!this._selectedCaseService
                    &amp;&amp; !!this._selectedCaseService.selectedCase
                    &amp;&amp; this._task.caseId &#x3D;&#x3D;&#x3D; this._selectedCaseService.selectedCase.stringId
                )
            );
    }
}
</code></pre>
    </div>
</div>



                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'class';
            var COMPODOC_CURRENT_PAGE_URL = 'TaskHandlingService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       
       <script type="module" src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
